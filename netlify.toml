# Netlify Build Configuration
[build]
  publish = "dist"
  command = "npm run build"

# Image CDN Configuration
[images]
  # No remote images needed currently as all images are local
  # Add remote image domains here if needed in the future
  # remote_images = ["https://example.com/.*"]

# Image Transformation Redirects
# Optimize all images with default settings (auto format selection, quality 75)
[[redirects]]
  from = "/images/optimized/*"
  to = "/.netlify/images?url=/:splat"
  status = 200

# Small thumbnails (50x50) for previews
[[redirects]]
  from = "/images/thumbnail/*"
  to = "/.netlify/images?url=/:splat&w=50&h=50&fit=cover"
  status = 200

# Medium size images (400px wide) for cards
[[redirects]]
  from = "/images/medium/*"
  to = "/.netlify/images?url=/:splat&w=400&fit=contain"
  status = 200

# Large size images (800px wide) for full previews
[[redirects]]
  from = "/images/large/*"
  to = "/.netlify/images?url=/:splat&w=800&fit=contain"
  status = 200

# Logo optimization (maintain aspect ratio)
[[redirects]]
  from = "/images/logo/*"
  to = "/.netlify/images?url=/:splat&h=48&fit=contain"
  status = 200

# Resume template previews (optimized quality)
[[redirects]]
  from = "/images/resume/*"
  to = "/.netlify/images?url=/:splat&w=600&q=85&fit=contain"
  status = 200

# Profile icon optimization
[[redirects]]
  from = "/images/profile/*"
  to = "/.netlify/images?url=/:splat&w=64&h=64&fit=contain"
  status = 200

# CV/Resume icon optimization
[[redirects]]
  from = "/images/cv/*"
  to = "/.netlify/images?url=/:splat&w=64&h=64&fit=contain"
  status = 200

# Paint palette icon optimization
[[redirects]]
  from = "/images/paint-palette/*"
  to = "/.netlify/images?url=/:splat&w=64&h=64&fit=contain"
  status = 200

# Job/briefcase icon optimization
[[redirects]]
  from = "/images/job/*"
  to = "/.netlify/images?url=/:splat&w=64&h=64&fit=contain"
  status = 200

# Professional development icon optimization
[[redirects]]
  from = "/images/professional-development/*"
  to = "/.netlify/images?url=/:splat&w=40&h=40&fit=contain"
  status = 200

# Statistics icon optimization
[[redirects]]
  from = "/images/statistcs/*"
  to = "/.netlify/images?url=/:splat&w=40&h=40&fit=contain"
  status = 200

# Target icon optimization
[[redirects]]
  from = "/images/target/*"
  to = "/.netlify/images?url=/:splat&w=40&h=40&fit=contain"
  status = 200

# Testing/settings icon optimization
[[redirects]]
  from = "/images/testing/*"
  to = "/.netlify/images?url=/:splat&w=24&h=24&fit=contain"
  status = 200

# Job search icon optimization
[[redirects]]
  from = "/images/job-search/*"
  to = "/.netlify/images?url=/:splat&w=16&h=16&fit=contain"
  status = 200

# Custom Headers for Images
[[headers]]
  for = "/*.png"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*.jpg"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*.jpeg"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*.webp"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*.svg"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Security Headers
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    X-XSS-Protection = "1; mode=block"
    Referrer-Policy = "strict-origin-when-cross-origin"

# SPA redirect - must be last
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
